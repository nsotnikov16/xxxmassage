(function(){"use strict";var t={6499:function(t,e,a){var s=a(9242),o=a(3396);const n={class:"d-flex align-items-center"},i=(0,o.uE)('<svg width="36" height="28" viewBox="0 0 36 28" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_51_234)"><path d="M7.29798 0C5.2931 0 3.80985 1.75549 3.87622 3.65922C3.93983 5.48793 3.85714 7.85681 3.2609 9.78833C2.66288 11.7258 1.65186 12.9505 0 13.1078V14.8922C1.65179 15.0495 2.66288 16.2742 3.2609 18.2117C3.85714 20.1432 3.93983 22.5121 3.87615 24.3409C3.80985 26.2445 5.2931 28 7.29798 28H27.8418C29.8467 28 31.3299 26.2445 31.2636 24.3409C31.2 22.5121 31.2827 20.1432 31.8788 18.2117C32.4769 16.2742 33.4855 15.0495 35.1373 14.8922V13.1078C33.4855 12.9505 32.4769 11.7258 31.8788 9.78833C31.2827 7.85681 31.2 5.48793 31.2636 3.65922C31.3299 1.75549 29.8467 0 27.8418 0H7.29798ZM23.5324 17.2325C23.5324 19.8539 21.5765 21.4431 18.3306 21.4431H12.3461C12.3097 21.4431 12.2748 21.4287 12.2491 21.4029C12.2234 21.3772 12.2089 21.3423 12.2089 21.3059V6.68823C12.2089 6.65182 12.2234 6.61691 12.2491 6.59117C12.2748 6.56543 12.3097 6.55097 12.3461 6.55097H18.2989C21.0055 6.55097 22.7818 8.01644 22.7818 10.2663C22.7818 11.8453 21.587 13.2592 20.0645 13.5068V13.5894C22.1368 13.8165 23.5324 15.251 23.5324 17.2325ZM17.7279 8.4396H14.5772V12.8876H17.231C19.2821 12.8876 20.4134 12.062 20.4134 10.5862C20.4134 9.20328 19.4407 8.4396 17.7279 8.4396ZM14.5772 14.6524V19.5546H17.8442C19.9799 19.5546 21.1112 18.698 21.1112 17.088C21.1112 15.478 19.9482 14.6524 17.7068 14.6524H14.5772Z" fill="white"></path></g><defs><clipPath id="clip0_51_234"><rect width="35.1373" height="28" fill="white"></rect></clipPath></defs></svg><p class="text-white mb-0 ms-2 h3">MassageXXX</p>',2),l=[i];function r(t,e,a,s,i,r){return(0,o.wg)(),(0,o.iD)("div",n,l)}var d={},m=a(89);const c=(0,m.Z)(d,[["render",r]]);var u=c;const p={class:"nav nav-pills"},g={class:"nav-item"};function h(t,e,a,s,n,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("ul",p,[(0,o._)("li",g,[(0,o.Wm)(l,{to:{name:"home"},class:"nav-link","active-class":"active"},{default:(0,o.w5)((()=>[(0,o.Uk)("Салоны")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(l,{to:{name:"admin"},class:"nav-link","active-class":"active"},{default:(0,o.w5)((()=>[(0,o.Uk)("Администратор")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(l,{to:"/support",class:"nav-link","active-class":"active"},{default:(0,o.w5)((()=>[(0,o.Uk)("Техподдержка")])),_:1})])])}var v={name:"HeaderNavigation"};const b=(0,m.Z)(v,[["render",h],["__scopeId","data-v-9724e5ba"]]);var w=b;const f={class:"p-3 mb-3 border-bottom"},C={class:"container"},y={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-between"},M={href:"/",class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none"},k={name:"Header"};var S=Object.assign(k,{setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("header",f,[(0,o._)("div",C,[(0,o._)("div",y,[(0,o._)("a",M,[(0,o.Wm)(u)]),(0,o.Wm)(w)])])]))}});const _=S;var x=_,A=a(7139);const D={class:"form-group mb-2"},I=["for"],Z=["type","id","placeholder","disabled"];function V(t,e,a,n,i,l){return(0,o.wg)(),(0,o.iD)("div",D,[a.params.label?((0,o.wg)(),(0,o.iD)("label",{key:0,class:"mb-2",for:i.id},(0,A.zw)(a.params.label),9,I)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:a.params.type,class:"form-control",id:i.id,placeholder:a.params.placeholder,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),onInput:e[1]||(e[1]=e=>t.$emit("input",{index:a.index,value:i.value})),disabled:a.loading},null,40,Z),[[s.YZ,i.value]])])}var $={props:["params","index","loading"],emits:["input"],data(){return{value:this.params.value??"",id:crypto.randomUUID()}}};const R=(0,m.Z)($,[["render",V]]);var j=R;const P={class:"form-group mb-2"},q=["for"],z=["id","placeholder","disabled"];function H(t,e,a,n,i,l){return(0,o.wg)(),(0,o.iD)("div",P,[a.params.label?((0,o.wg)(),(0,o.iD)("label",{key:0,class:"mb-2",for:i.id},(0,A.zw)(a.params.label),9,q)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("textarea",{class:"form-control",id:i.id,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),rows:"3",placeholder:a.params.placeholder,onInput:e[1]||(e[1]=e=>t.$emit("input",{index:a.index,value:i.value})),disabled:a.loading},null,40,z),[[s.nr,i.value]])])}var N=a(65),F={props:["params","index","loading"],emits:["input"],data(){return{value:this.params.value??"",id:crypto.randomUUID()}},computed:(0,N.rn)({fields:t=>t.app.modal.fields}),methods:{...(0,N.nv)(["setModalFieldValue"]),input(){this.setModalFieldValue({index:this.index,value:this.value})}}};const O=(0,m.Z)(F,[["render",H]]);var E=O,W=a(4870),B=a(6368);const U={class:"form-group mb-2"},L={key:0,class:"mb-2"},Y={name:"ModalSelect",props:["params","loading","index"],emits:["input"],data(){return{value:this.params.value??{},options:this.params.options??[]}}};var K=Object.assign(Y,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",U,[t.params.label?((0,o.wg)(),(0,o.iD)("label",L,(0,A.zw)(t.params.label),1)):(0,o.kq)("",!0),(0,o.Wm)((0,W.SU)(B.ZP),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=t=>e.value=t),"deselect-label":"Удалить","track-by":"name",label:"name",placeholder:t.params.placeholder,options:e.options,searchable:!0,selectLabel:"Выберите из списка",selectedLabel:"Выбрано",disabled:t.loading,onChange:a[1]||(a[1]=a=>e.$emit("input",{index:t.index,value:e.value})),onSelect:a[2]||(a[2]=a=>e.$emit("input",{index:t.index,value:e.value}))},{singleLabel:(0,o.w5)((({option:t})=>[(0,o.Uk)((0,A.zw)(t.name),1)])),_:1},8,["modelValue","placeholder","options","disabled"])]))}});const T=K;var X=T;const G={class:"form-group mb-2"},J={key:0,class:"mb-2"},Q={name:"ModalMultiSelect",props:["params","index","loading"],emits:["input"],data(){return{value:this.params.value??[],options:this.params.options??[]}}};var tt=Object.assign(Q,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",G,[t.params.label?((0,o.wg)(),(0,o.iD)("label",J,(0,A.zw)(t.params.label),1)):(0,o.kq)("",!0),(0,o.Wm)((0,W.SU)(B.ZP),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=t=>e.value=t),multiple:!0,"deselect-label":"Удалить","track-by":"name",label:"name",placeholder:t.params.placeholder,options:e.options,searchable:!0,selectLabel:"Выберите из списка",selectedLabel:"Выбрано","open-direction":"bottom",onChange:a[1]||(a[1]=a=>e.$emit("input",{index:t.index,value:e.value})),onSelect:a[2]||(a[2]=a=>e.$emit("input",{index:t.index,value:e.value})),onRemove:a[3]||(a[3]=a=>e.$emit("input",{index:t.index,value:e.value})),disabled:t.loading},{noResult:(0,o.w5)((()=>[(0,o.Uk)(" Поиск не дал результатов ")])),_:1},8,["modelValue","placeholder","options","disabled"])]))}});const et=tt;var at=et;const st={class:"modal-body"},ot={name:"ModalBody",props:["loading","fields_props"],emits:["submit"],computed:{...(0,N.rn)({modal:t=>t.app.modal}),fields(){return this.fields_props.sort(((t,e)=>parseFloat(t.sort)-parseFloat(e.sort)))}},methods:{...(0,N.nv)(["setModalFieldValue"]),input(t){this.setModalFieldValue(t)}}};var nt=Object.assign(ot,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",st,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,((a,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s},[["text","number","email"].includes(a.type)?((0,o.wg)(),(0,o.j4)(j,{key:0,loading:t.loading,params:a,index:s,onInput:e.input},null,8,["loading","params","index","onInput"])):(0,o.kq)("",!0),"textarea"==a.type?((0,o.wg)(),(0,o.j4)(E,{key:1,loading:t.loading,params:a,index:s,onInput:e.input},null,8,["loading","params","index","onInput"])):(0,o.kq)("",!0),"select"==a.type?((0,o.wg)(),(0,o.j4)(X,{key:2,loading:t.loading,params:a,index:s,onInput:e.input},null,8,["loading","params","index","onInput"])):(0,o.kq)("",!0),"multiselect"==a.type?((0,o.wg)(),(0,o.j4)(at,{key:3,loading:t.loading,params:a,index:s,onInput:e.input},null,8,["loading","params","index","onInput"])):(0,o.kq)("",!0)])))),128))]))}});const it=nt;var lt=it;const rt=["disabled"],dt={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},mt={class:"sr-only"};function ct(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("button",{type:"submit",class:"btn btn-primary",disabled:a.loading},[a.loading?((0,o.wg)(),(0,o.iD)("span",dt)):(0,o.kq)("",!0),(0,o._)("span",mt,(0,A.zw)(a.title),1)],8,rt)}var ut={name:"ModalButtonSave",props:["loading","title"]};const pt=(0,m.Z)(ut,[["render",ct]]);var gt=pt;function ht(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=(...t)=>i.click&&i.click(...t))},(0,A.zw)(a.title),1)}var vt={name:"ModalButtonClose",emits:["click"],props:["title"],methods:{click(){this.$emit("click")}}};const bt=(0,m.Z)(vt,[["render",ht]]);var wt=bt;const ft={class:"modal-content"},Ct={class:"modal-header"},yt={class:"modal-title fs-5",id:"exampleModalLabel"},Mt={key:1,class:"modal-footer"},kt={name:"Modal",data(){return{loading:!1}},computed:{...(0,N.rn)({modal:t=>t.app.modal})},methods:{...(0,N.nv)(["setModalSettings"]),close(){this.setModalSettings({show:!1})},async submit(){this.loading=!0,await this.modal.submit(),this.loading=!1}},mounted(){const t=t=>{this.modal.show&&"modal fade show"==t.target.className&&this.close()};document.addEventListener("click",t)}};var St=Object.assign(kt,{setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[t.modal.show?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,A.C_)(["modal fade",t.modal.show?"show":""]),id:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o._)("form",{class:"modal-dialog",onSubmit:e[1]||(e[1]=(0,s.iM)(((...e)=>t.submit&&t.submit(...e)),["prevent"]))},[(0,o._)("div",ft,[(0,o._)("div",Ct,[(0,o._)("h1",yt,(0,A.zw)(t.modal.title),1),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...e)=>t.close&&t.close(...e))})]),t.modal.fields.length?((0,o.wg)(),(0,o.j4)(lt,{key:0,fields_props:t.modal.fields,loading:t.loading},null,8,["fields_props","loading"])):(0,o.kq)("",!0),t.modal.btnClose||t.modal.btnSave?((0,o.wg)(),(0,o.iD)("div",Mt,[t.modal.btnClose?((0,o.wg)(),(0,o.j4)(wt,{key:0,title:t.modal.btnClose.title,onClick:t.close},null,8,["title","onClick"])):(0,o.kq)("",!0),t.modal.btnSave?((0,o.wg)(),(0,o.j4)(gt,{key:1,title:t.modal.btnSave.title,loading:t.loading},null,8,["title","loading"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])],32)],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,A.C_)("fade modal-backdrop "+(t.modal.show?"show":""))},null,2)],64))}});const _t=St;var xt=_t;const At={class:"page"},Dt={data:()=>({})};var It=Object.assign(Dt,{__name:"App",setup(t){return(t,e)=>{const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",At,[(0,o.Wm)(x),(0,o.Wm)(a),(0,o.Wm)(xt)])}}});const Zt=It;var Vt=Zt,$t=a(2483);const Rt={class:"mt-4 mb-5"};function jt(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("ul",Rt,[(0,o._)("li",null,"Всего комнат: "+(0,A.zw)(a.roomsAll),1),(0,o._)("li",null,"Комнат занято: "+(0,A.zw)(a.roomsBusy)+" ("+(0,A.zw)(i.percent)+"%)",1),(0,o._)("li",null,"Мастеров занято: "+(0,A.zw)(a.mastersBusy),1)])}var Pt={name:"TotalInfo",props:["roomsAll","roomsBusy","mastersBusy"],computed:{percent(){let t=this.roomsBusy/this.roomsAll*100;return Number.isInteger(t)||(t=t.toFixed(2)),t}}};const qt=(0,m.Z)(Pt,[["render",jt]]);var zt=qt;const Ht={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Nt=(0,o.uE)('<g clip-path="url(#clip0_37_6025)"><path d="M5.5 9.511C5.576 10.465 6.33 11.208 7.682 11.296V12H8.282V11.291C9.682 11.193 10.5 10.445 10.5 9.359C10.5 8.372 9.874 7.863 8.755 7.599L8.282 7.487V5.57C8.882 5.638 9.264 5.966 9.356 6.42H10.408C10.332 5.501 9.544 4.782 8.282 4.704V4H7.682V4.719C6.487 4.836 5.672 5.555 5.672 6.572C5.672 7.472 6.278 8.044 7.285 8.279L7.682 8.377V10.411C7.067 10.318 6.66 9.981 6.568 9.511H5.5ZM7.677 7.345C7.087 7.208 6.767 6.929 6.767 6.509C6.767 6.039 7.112 5.687 7.682 5.584V7.344L7.677 7.345ZM8.369 8.538C9.086 8.704 9.417 8.973 9.417 9.448C9.417 9.99 9.005 10.362 8.282 10.43V8.518L8.369 8.538Z" fill="#212529"></path><path d="M8 15C6.14348 15 4.36301 14.2625 3.05025 12.9497C1.7375 11.637 1 9.85652 1 8C1 6.14348 1.7375 4.36301 3.05025 3.05025C4.36301 1.7375 6.14348 1 8 1C9.85652 1 11.637 1.7375 12.9497 3.05025C14.2625 4.36301 15 6.14348 15 8C15 9.85652 14.2625 11.637 12.9497 12.9497C11.637 14.2625 9.85652 15 8 15ZM8 16C10.1217 16 12.1566 15.1571 13.6569 13.6569C15.1571 12.1566 16 10.1217 16 8C16 5.87827 15.1571 3.84344 13.6569 2.34315C12.1566 0.842855 10.1217 0 8 0C5.87827 0 3.84344 0.842855 2.34315 2.34315C0.842855 3.84344 0 5.87827 0 8C0 10.1217 0.842855 12.1566 2.34315 13.6569C3.84344 15.1571 5.87827 16 8 16Z" fill="#212529"></path><path d="M8 13.5C6.54131 13.5 5.14236 12.9205 4.11091 11.8891C3.07946 10.8576 2.5 9.45869 2.5 8C2.5 6.54131 3.07946 5.14236 4.11091 4.11091C5.14236 3.07946 6.54131 2.5 8 2.5C9.45869 2.5 10.8576 3.07946 11.8891 4.11091C12.9205 5.14236 13.5 6.54131 13.5 8C13.5 9.45869 12.9205 10.8576 11.8891 11.8891C10.8576 12.9205 9.45869 13.5 8 13.5ZM8 14C8.78793 14 9.56815 13.8448 10.2961 13.5433C11.0241 13.2417 11.6855 12.7998 12.2426 12.2426C12.7998 11.6855 13.2417 11.0241 13.5433 10.2961C13.8448 9.56815 14 8.78793 14 8C14 7.21207 13.8448 6.43185 13.5433 5.7039C13.2417 4.97595 12.7998 4.31451 12.2426 3.75736C11.6855 3.20021 11.0241 2.75825 10.2961 2.45672C9.56815 2.15519 8.78793 2 8 2C6.4087 2 4.88258 2.63214 3.75736 3.75736C2.63214 4.88258 2 6.4087 2 8C2 9.5913 2.63214 11.1174 3.75736 12.2426C4.88258 13.3679 6.4087 14 8 14Z" fill="#212529"></path></g><defs><clipPath id="clip0_37_6025"><rect width="16" height="16" fill="white"></rect></clipPath></defs>',2),Ft=[Nt];function Ot(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",Ht,Ft)}var Et={};const Wt=(0,m.Z)(Et,[["render",Ot]]);var Bt=Wt;const Ut={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt=(0,o._)("path",{d:"M3 14C3 14 2 14 2 13C2 12 3 9 8 9C13 9 14 12 14 13C14 14 13 14 13 14H3ZM8 8C8.79565 8 9.55871 7.68393 10.1213 7.12132C10.6839 6.55871 11 5.79565 11 5C11 4.20435 10.6839 3.44129 10.1213 2.87868C9.55871 2.31607 8.79565 2 8 2C7.20435 2 6.44129 2.31607 5.87868 2.87868C5.31607 3.44129 5 4.20435 5 5C5 5.79565 5.31607 6.55871 5.87868 7.12132C6.44129 7.68393 7.20435 8 8 8Z",fill:"#212529"},null,-1),Yt=[Lt];function Kt(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",Ut,Yt)}var Tt={};const Xt=(0,m.Z)(Tt,[["render",Kt]]);var Gt=Xt;const Jt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qt=(0,o._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 1.5C5 1.10218 5.15804 0.720644 5.43934 0.43934C5.72064 0.158035 6.10218 0 6.5 0H9.5C9.89782 0 10.2794 0.158035 10.5607 0.43934C10.842 0.720644 11 1.10218 11 1.5V2.5C11 2.89782 10.842 3.27936 10.5607 3.56066C10.2794 3.84196 9.89782 4 9.5 4H6.5C6.10218 4 5.72064 3.84196 5.43934 3.56066C5.15804 3.27936 5 2.89782 5 2.5V1.5ZM10 1.5C10 1.36739 9.94732 1.24021 9.85355 1.14645C9.75979 1.05268 9.63261 1 9.5 1H6.5C6.36739 1 6.24021 1.05268 6.14645 1.14645C6.05268 1.24021 6 1.36739 6 1.5V2.5C6 2.63261 6.05268 2.75979 6.14645 2.85355C6.24021 2.94732 6.36739 3 6.5 3H9.5C9.63261 3 9.75979 2.94732 9.85355 2.85355C9.94732 2.75979 10 2.63261 10 2.5V1.5Z",fill:"black"},null,-1),te=(0,o._)("path",{d:"M3 1.5H4V2.5H3C2.73478 2.5 2.48043 2.60536 2.29289 2.79289C2.10536 2.98043 2 3.23478 2 3.5V14C2 14.2652 2.10536 14.5196 2.29289 14.7071C2.48043 14.8946 2.73478 15 3 15H13C13.2652 15 13.5196 14.8946 13.7071 14.7071C13.8946 14.5196 14 14.2652 14 14V3.5C14 3.23478 13.8946 2.98043 13.7071 2.79289C13.5196 2.60536 13.2652 2.5 13 2.5H12V1.5H13C13.5304 1.5 14.0391 1.71071 14.4142 2.08579C14.7893 2.46086 15 2.96957 15 3.5V14C15 14.5304 14.7893 15.0391 14.4142 15.4142C14.0391 15.7893 13.5304 16 13 16H3C2.46957 16 1.96086 15.7893 1.58579 15.4142C1.21071 15.0391 1 14.5304 1 14V3.5C1 2.96957 1.21071 2.46086 1.58579 2.08579C1.96086 1.71071 2.46957 1.5 3 1.5Z",fill:"black"},null,-1),ee=(0,o._)("path",{d:"M8 6.98196C9.664 5.30896 13.825 8.23596 8 12C2.175 8.23596 6.336 5.30996 8 6.98196Z",fill:"black"},null,-1),ae=[Qt,te,ee];function se(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",Jt,ae)}var oe={};const ne=(0,m.Z)(oe,[["render",se]]);var ie=ne;const le={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re=(0,o.uE)('<g clip-path="url(#clip0_37_6029)"><path d="M8 3.5C8 3.36739 7.94732 3.24021 7.85355 3.14645C7.75979 3.05268 7.63261 3 7.5 3C7.36739 3 7.24021 3.05268 7.14645 3.14645C7.05268 3.24021 7 3.36739 7 3.5V9C7.00003 9.08813 7.02335 9.17469 7.06761 9.25091C7.11186 9.32712 7.17547 9.39029 7.252 9.434L10.752 11.434C10.8669 11.4961 11.0014 11.5108 11.127 11.4749C11.2525 11.4391 11.3591 11.3556 11.4238 11.2422C11.4886 11.1288 11.5065 10.9946 11.4736 10.8683C11.4408 10.7419 11.3598 10.6334 11.248 10.566L8 8.71V3.5Z" fill="#212529"></path><path d="M8 16C10.1217 16 12.1566 15.1571 13.6569 13.6569C15.1571 12.1566 16 10.1217 16 8C16 5.87827 15.1571 3.84344 13.6569 2.34315C12.1566 0.842855 10.1217 0 8 0C5.87827 0 3.84344 0.842855 2.34315 2.34315C0.842855 3.84344 0 5.87827 0 8C0 10.1217 0.842855 12.1566 2.34315 13.6569C3.84344 15.1571 5.87827 16 8 16ZM15 8C15 9.85652 14.2625 11.637 12.9497 12.9497C11.637 14.2625 9.85652 15 8 15C6.14348 15 4.36301 14.2625 3.05025 12.9497C1.7375 11.637 1 9.85652 1 8C1 6.14348 1.7375 4.36301 3.05025 3.05025C4.36301 1.7375 6.14348 1 8 1C9.85652 1 11.637 1.7375 12.9497 3.05025C14.2625 4.36301 15 6.14348 15 8Z" fill="#212529"></path></g><defs><clipPath id="clip0_37_6029"><rect width="16" height="16" fill="white"></rect></clipPath></defs>',2),de=[re];function me(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",le,de)}var ce={};const ue=(0,m.Z)(ce,[["render",me]]);var pe=ue;const ge=(0,o._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.44231 9.1928C9.19823 9.43687 8.8025 9.43687 8.55842 9.1928L1.05842 1.6928C0.814346 1.44872 0.814346 1.05299 1.05842 0.808913C1.3025 0.564835 1.69823 0.564835 1.94231 0.808913L9.00037 7.86697L16.0584 0.808913C16.3025 0.564835 16.6982 0.564835 16.9423 0.808913C17.1864 1.05299 17.1864 1.44872 16.9423 1.6928L9.44231 9.1928Z"},null,-1),he=[ge];function ve(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",{class:(0,A.C_)(a.className),viewBox:"0 0 18 10",xmlns:"http://www.w3.org/2000/svg"},he,2)}var be={props:["className"]};const we=(0,m.Z)(be,[["render",ve]]);var fe=we;const Ce={key:0},ye={key:1},Me={key:2},ke={key:3},Se={key:4},_e={name:"RoomTop",props:["programm","masters","timeStart","timeEnd"],emits:["click"],computed:{programmFullName(){if(!this.programm)return;let t;return this.programm.time&&(t="("+this.programm.time+")"),`${this.programm.name} ${t??""}`},mastersString(){if(this.masters.length){const t=this.masters.map((t=>t.name));return t.join("/")}return!1},getTime(){}}};var xe=Object.assign(_e,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"room__spoiler-top",onClick:a[0]||(a[0]=t=>e.$emit("click"))},[t.programm&&t.programm.price?((0,o.wg)(),(0,o.iD)("div",Ce,[(0,o.Wm)(Bt),(0,o._)("span",null,(0,A.zw)(t.programm.price.toLocaleString("ru-RU"))+" ₽",1)])):(0,o.kq)("",!0),t.programm?((0,o.wg)(),(0,o.iD)("div",ye,[(0,o.Wm)(ie),(0,o._)("span",null,(0,A.zw)(e.programmFullName),1)])):(0,o.kq)("",!0),e.mastersString?((0,o.wg)(),(0,o.iD)("div",Me,[(0,o.Wm)(Gt),(0,o._)("span",null,(0,A.zw)(e.mastersString),1)])):(0,o.kq)("",!0),t.timeStart?((0,o.wg)(),(0,o.iD)("div",ke,[(0,o.Wm)(pe),(0,o._)("span",null,(0,A.zw)(t.timeStart)+" мин",1)])):(0,o.kq)("",!0),t.timeEnd?((0,o.wg)(),(0,o.iD)("div",Se,[(0,o.Wm)(pe),(0,o._)("span",null,(0,A.zw)(t.timeEnd)+" мин",1)])):(0,o.kq)("",!0),(0,o.Wm)(fe,{class:"room__arrow"})]))}});const Ae=xe;var De=Ae;const Ie={class:"room__block"},Ze={class:"room__block-name"},Ve=(0,o._)("b",null,"Мастер:",-1),$e={class:"room__select"},Re={name:"RoomMasters",props:["salonId","roomId"],data(){return{value:[],disabled:!1}},computed:{...(0,N.Se)(["getEntityBySalonId"]),options(){return this.getEntityBySalonId(this.salonId,"masters")}},methods:{...(0,N.nv)(["updateRoomForMaster","setModalSettings"]),updateValue(){try{this.value=this.options.filter((t=>t.room_id==this.roomId))}catch(t){this.value=[]}},async changeMaster(t,e){e||(e="add"),this.disabled=!0;const a=await this.updateRoomForMaster({masterId:t.id,roomId:this.roomId,type:e});a?.error&&this.setModalSettings({show:!0,title:a.error,fields:[],btnSave:!1,btnClose:{title:"Закрыть"}}),this.updateValue(),this.disabled=!1}},created(){this.updateValue()}};var je=Object.assign(Re,{setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("div",Ie,[(0,o._)("div",Ze,[(0,o.Wm)(Gt),Ve]),(0,o._)("div",$e,[(0,o.Wm)((0,W.SU)(B.ZP),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=e=>t.value=e),multiple:!0,"deselect-label":"Удалить","track-by":"name",label:"name",placeholder:"Выберите мастера",options:t.options,searchable:!0,selectLabel:"",selectedLabel:"Выбрано","close-on-select":!1,onSelect:t.changeMaster,onRemove:e[1]||(e[1]=e=>t.changeMaster(e,"delete")),disabled:t.disabled},{noResult:(0,o.w5)((()=>[(0,o.Uk)(" Поиск не дал результатов ")])),_:1},8,["modelValue","options","onSelect","disabled"])])]))}});const Pe=je;var qe=Pe;a(7658);const ze={class:"room__block"},He={class:"room__block-name"},Ne=(0,o._)("b",null,"Программа:",-1),Fe={class:"room__select"},Oe={name:"RoomProgramms",props:["salonId","room"],data(){return{value:{}}},computed:{...(0,N.Se)(["getEntityBySalonId"]),options(){return this.getEntityBySalonId(this.salonId,"programms")}},methods:{...(0,N.nv)(["updateProgrammInRoom","setModalSettings"]),updateValue(){try{this.value=this.options.filter((t=>t.id==this.room.programm_id))}catch(t){this.value=[]}},async changeProgramm(t,e){this.disabled=!0;const a=await this.updateProgrammInRoom({roomId:this.room.id,programm:"delete"==e?0:t.id});a?.error&&(this.setModalSettings({show:!0,title:a.error,fields:[],btnSave:!1,btnClose:{title:"Закрыть"}}),this.value="delete"==e?this.value.push(t):{}),this.disabled=!1}},created(){this.updateValue()}};var Ee=Object.assign(Oe,{setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("div",ze,[(0,o._)("div",He,[(0,o.Wm)(ie),Ne]),(0,o._)("div",Fe,[(0,o.Wm)((0,W.SU)(B.ZP),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=e=>t.value=e),multiple:!1,"deselect-label":"Удалить","track-by":"name",label:"name",placeholder:"Выберите программу",options:t.options,searchable:!0,selectLabel:"",selectedLabel:"Выбрано","show-labels":!0,onSelect:t.changeProgramm,onRemove:e[1]||(e[1]=e=>t.changeProgramm(e,"delete"))},{noResult:(0,o.w5)((()=>[(0,o.Uk)(" Поиск не дал результатов ")])),_:1},8,["modelValue","options","onSelect"])])]))}});const We=Ee;var Be=We;const Ue=t=>((0,o.dD)("data-v-5c17f6d5"),t=t(),(0,o.Cn)(),t),Le={class:"room__spoiler-bottom"},Ye={class:"room__bottom"},Ke={class:"room__block",id:"time"},Te={class:"room__block-name"},Xe=Ue((()=>(0,o._)("b",null,"Запустить таймер:",-1))),Ge={class:"form-check form-switch ms-3 mb-0"},Je=["checked","disabled"],Qe={name:"RoomBottom",props:["room","salonId"],data(){return{status:!1,disabled:!1}},methods:{...(0,N.nv)(["updateStatusRoom"]),async changeStatus(t){this.disabled=!0;const e=await this.updateStatusRoom({roomId:this.room.id,status:Number(!this.status)});e?.error&&(this.setModalSettings({show:!0,title:e.error,fields:[],btnSave:!1,btnClose:{title:"Закрыть"}}),this.status=this.status),this.disabled=!1}},created(){this.status=Boolean(this.room.status)}};var ta=Object.assign(Qe,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",Le,[(0,o._)("div",Ye,[(0,o.Wm)(qe,{salonId:t.salonId,roomId:t.room.id},null,8,["salonId","roomId"]),(0,o.Wm)(Be,{salonId:t.salonId,room:t.room},null,8,["salonId","room"]),(0,o._)("div",Ke,[(0,o._)("div",Te,[(0,o.Wm)(pe),Xe]),(0,o._)("div",Ge,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=t=>e.status=t),checked:e.status,disabled:e.disabled,onInput:a[1]||(a[1]=(...t)=>e.changeStatus&&e.changeStatus(...t))},null,40,Je),[[s.e8,e.status]])])])])]))}});const ea=(0,m.Z)(ta,[["__scopeId","data-v-5c17f6d5"]]);var aa=ea;const sa={class:"room mb-4"},oa={class:"h5 mb-3"},na={name:"Room",props:["room","masters","programms","salonId"],data(){return{isOpen:!1}},computed:{programm(){return this.programms.find((t=>t.id==this.room.programm_id))},mastersRoom(){return this.masters.filter((t=>t.room_id==this.room.id))}},methods:{toggleSpoiler(){this.isOpen=!this.isOpen}}};var ia=Object.assign(na,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",sa,[(0,o._)("p",oa,(0,A.zw)(t.room.name),1),(0,o._)("div",{class:(0,A.C_)(["room__spoiler",e.isOpen?"room__spoiler_open":""])},[(0,o.Wm)(De,{programm:e.programm,masters:e.mastersRoom,timeStart:2,onClick:e.toggleSpoiler},null,8,["programm","masters","onClick"]),(0,o.Wm)(aa,{salonId:t.salonId,room:t.room},null,8,["salonId","room"])],2)]))}});const la=ia;var ra=la;const da={class:"salon"},ma={class:"mb-3"},ca={name:"Salon",props:["salon"]};var ua=Object.assign(ca,{setup(t){return(e,a)=>((0,o.wg)(),(0,o.iD)("div",da,[(0,o._)("h2",ma,'Салон "'+(0,A.zw)(t.salon.name)+'"',1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.salon.rooms,(e=>((0,o.wg)(),(0,o.j4)(ra,{key:e.id,room:e,salonId:t.salon.id,programms:t.salon.programms,masters:t.salon.masters},null,8,["room","salonId","programms","masters"])))),128))]))}});const pa=ua;var ga=pa;const ha={class:"container"},va=(0,o._)("h1",null,"Мониторинг комнат",-1),ba={key:0,class:"h3 text-primary"},wa={key:1,class:"text-danger"},fa={data(){return{loading:!1}},computed:{...(0,N.rn)({salons:t=>t.app.salons}),roomsAll(){let t=0;return this.salons.length&&this.salons.forEach((e=>{e.rooms.length&&e.rooms.forEach((e=>t++))})),t},roomsBusy(){let t=0;return this.salons.length&&this.salons.forEach((e=>{e.rooms.length&&e.rooms.forEach((e=>e.status?t++:""))})),t}},methods:{...(0,N.nv)(["getAllInfo"])},async created(){this.salons.length||(this.loading=!0,await this.getAllInfo(),this.loading=!1)}};var Ca=Object.assign(fa,{__name:"HomeView",setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("div",ha,[va,(0,o.Wm)(zt,{roomsAll:t.roomsAll,roomsBusy:t.roomsBusy,mastersBusy:8},null,8,["roomsAll","roomsBusy"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.salons,(t=>((0,o.wg)(),(0,o.j4)(ga,{key:t.id,salon:t},null,8,["salon"])))),128)),t.loading?((0,o.wg)(),(0,o.iD)("p",ba,"Получаем информацию...")):(0,o.kq)("",!0),t.loading||t.salons&&t.salons.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h2",wa," Салоны отсутствуют "))]))}});const ya=Ca;var Ma=ya;const ka={class:"d-flex flex-column flex-shrink-0 p-3 bg-body-tertiary col-2 align-self-baseline"},Sa={class:"nav nav-pills flex-column mb-0"};function _a(t,e,a,s,n,i){const l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",ka,[(0,o._)("ul",Sa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.links,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{class:"nav-item",key:e},[(0,o.Wm)(l,{to:{name:t.name},class:"nav-link link-body-emphasis","active-class":"active",exact:t.exact},{default:(0,o.w5)((()=>[(0,o.Uk)((0,A.zw)(t.text),1)])),_:2},1032,["to","exact"])])))),128))])])}var xa={name:"Sidebar",data(){return{links:[{name:"admin-salons",text:"Салоны",exact:!0},{name:"admin-rooms",text:"Комнаты"},{name:"admin-masters",text:"Мастерицы"},{name:"admin-programms",text:"Программы"}]}}};const Aa=(0,m.Z)(xa,[["render",_a],["__scopeId","data-v-913b045a"]]);var Da=Aa;const Ia={className:"col-10"},Za={class:"px-4 d-flex justify-content-end"},Va={className:"row px-4"},$a={key:0},Ra={key:1,class:"text-danger"},ja={className:"d-flex p-3 justify-content-between rounded border border-gray"},Pa={className:"d-flex align-items-center"},qa={className:"m-0"},za={key:0,className:"mb-0 ms-3"},Ha={class:"d-flex align-items-center"},Na=["onClick"],Fa=["onClick"];function Oa(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ia,[(0,o._)("div",Za,[(0,o._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>i.setModalCreate&&i.setModalCreate(...t))}," Добавить салон ")]),(0,o._)("div",Va,[n.loading?((0,o.wg)(),(0,o.iD)("h4",$a,"Загрзука...")):(0,o.kq)("",!0),t.salons.length||n.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h4",Ra,(0,A.zw)(n.error?n.error:"Салоны отсутствуют"),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.salons,(t=>((0,o.wg)(),(0,o.iD)("div",{className:"p-3",key:t.id},[(0,o._)("div",ja,[(0,o._)("div",Pa,[(0,o._)("h5",qa,(0,A.zw)(t.name),1),t.description?((0,o.wg)(),(0,o.iD)("p",za,(0,A.zw)(t.description),1)):(0,o.kq)("",!0)]),(0,o._)("div",Ha,[(0,o._)("button",{onClick:e=>i.setModalEdit(t),title:"Изменить",class:"btn btn-success"}," Изменить ",8,Na),(0,o._)("button",{onClick:e=>i.setModalDelete(t),title:"Удалить",class:"btn btn-danger ms-1"}," Удалить ",8,Fa)])])])))),128))])])}var Ea={name:"AdminSalons",data(){return{loading:!1,error:!1}},computed:{...(0,N.rn)({salons:t=>t.admin.salons}),...(0,N.Se)(["getDataModal"])},methods:{...(0,N.nv)(["setModalSettings","getAdminSalons","deleteAdminSalon","updateAdminSalon","createAdminSalon"]),setModalEdit(t){const e={show:!0,title:"Редактировать салон "+t.name,fields:this.getFields(t),btnSave:{title:"Сохранить"},btnClose:{title:"Закрыть"},submit:async()=>{const e=this.getDataModal,a=await this.updateAdminSalon({id:t.id,data:e});a.error?this.setModalSettings({title:a.error}):this.setModalSettings({title:"Успешно обновлено!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(e)},setModalCreate(){const t={show:!0,title:"Добавить салон",fields:this.getFields(),btnSave:{title:"Добавить"},btnClose:{title:"Закрыть"},submit:async()=>{const t=this.getDataModal,e=await this.createAdminSalon(t);e.error?this.setModalSettings({title:e.error}):this.setModalSettings({title:"Салон добавлен успешно!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(t)},setModalDelete({name:t,id:e}){const a={show:!0,title:`Вы уверены что хотите удалить салон ${t}?`,fields:[],btnSave:{title:"Да"},btnClose:{title:"Нет"},submit:async()=>{const t=await this.deleteAdminSalon(e);t.error?this.setModalSettings({title:t.error}):this.setModalSettings({title:"Успешно удалено!"}),this.setModalSettings({fields:[],btnSave:!1,btnClose:{title:"Закрыть"}})}};this.setModalSettings(a)},getFields(t){return[{sort:1,type:"text",name:"name",label:"Название салона",value:t?t.name:"",placeholder:"Введите название"},{sort:2,type:"textarea",name:"description",label:"Описание салона",value:t?t.description:"",placeholder:"Введите описание"}]}},async created(){if(!this.salons.length){this.loading=!0;const t=await this.getAdminSalons();t?.error&&(this.error=t.error),this.loading=!1}}};const Wa=(0,m.Z)(Ea,[["render",Oa]]);var Ba=Wa;const Ua={className:"col-10"},La={class:"px-4 d-flex justify-content-end"},Ya={className:"row px-4"},Ka={key:0},Ta={key:1,class:"text-danger"},Xa={className:"d-flex p-3 justify-content-between rounded border border-gray"},Ga={className:"d-flex align-items-center"},Ja={className:"m-0"},Qa={key:0,class:"mb-0 ms-3"},ts={key:1,class:"text-danger ms-3"},es={class:"d-flex align-items-center"},as=["onClick"],ss=["onClick"];function os(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ua,[(0,o._)("div",La,[(0,o._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>i.setModalCreate&&i.setModalCreate(...t))}," Добавить программу ")]),(0,o._)("div",Ya,[n.loading?((0,o.wg)(),(0,o.iD)("h4",Ka,"Загрзука...")):(0,o.kq)("",!0),t.programms.length||n.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h4",Ta,(0,A.zw)(n.error?n.error:"Программы отсутствуют"),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.programms,(t=>((0,o.wg)(),(0,o.iD)("div",{className:"p-3",key:t.id},[(0,o._)("div",Xa,[(0,o._)("div",Ga,[(0,o._)("h5",Ja,(0,A.zw)(t.name)+" "+(0,A.zw)(t.time?`(${t.time})`:""),1),t.salons.length?((0,o.wg)(),(0,o.iD)("p",Qa,(0,A.zw)(t.salons.map((t=>t.name)).join(", ")),1)):(0,o.kq)("",!0),t.price>=0?((0,o.wg)(),(0,o.iD)("b",ts,(0,A.zw)(t.price)+" руб.",1)):(0,o.kq)("",!0)]),(0,o._)("div",es,[(0,o._)("button",{onClick:e=>i.setModalEdit(t),title:"Изменить",class:"btn btn-success"}," Изменить ",8,as),(0,o._)("button",{onClick:e=>i.setModalDelete(t),title:"Удалить",class:"btn btn-danger ms-1"}," Удалить ",8,ss)])])])))),128))])])}const ns=t=>{try{return{error:t.response.data.message}}catch(t){return{error:t.message}}},is=t=>{try{const e={};return t.forEach((t=>{if("undefined"!=typeof t.value)switch(t.type){case"select":e[t.name]=t.value.value;break;case"multiselect":e[t.name]=t.value.map((t=>t.value));break;default:e[t.name]=t.value;break}})),e}catch(e){return console.error(e.message),!1}},ls=t=>t&&t.length?t.map((t=>({name:t.name,value:t.id}))):[];var rs={name:"AdminProgramms",data(){return{loading:!1,error:!1}},computed:{...(0,N.rn)({programms:t=>t.admin.programms,salons:t=>t.admin.salons}),...(0,N.Se)(["getDataModal"])},methods:{...(0,N.nv)(["setModalSettings","getAdminProgramms","createAdminProgramm","updateAdminProgramm","deleteAdminProgramm","getAdminSalons"]),setModalEdit(t){const e={show:!0,title:"Редактировать программу "+t.name,fields:this.getFields(t),btnSave:{title:"Сохранить"},btnClose:{title:"Закрыть"},submit:async()=>{const e=this.getDataModal,a=await this.updateAdminProgramm({id:t.id,data:e});a.error?this.setModalSettings({title:a.error}):this.setModalSettings({title:"Успешно обновлено!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(e)},setModalCreate(){const t={show:!0,title:"Добавить программу",fields:this.getFields(),btnSave:{title:"Добавить"},btnClose:{title:"Закрыть"},submit:async()=>{const t=this.getDataModal,e=await this.createAdminProgramm(t);e.error?this.setModalSettings({title:e.error}):this.setModalSettings({title:"Добавлено успешно!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(t)},setModalDelete({name:t,id:e}){const a={show:!0,title:`Вы уверены что хотите удалить программу ${t}?`,fields:[],btnSave:{title:"Да"},btnClose:{title:"Нет"},submit:async()=>{const t=await this.deleteAdminProgramm(e);t.error?this.setModalSettings({title:t.error}):this.setModalSettings({title:"Успешно удалено!"}),this.setModalSettings({fields:[],btnSave:!1,btnClose:{title:"Закрыть"}})}};this.setModalSettings(a)},getFields(t){return[{sort:1,type:"text",name:"name",label:"Название программы",value:t?t.name:"",placeholder:"Введите название"},{sort:2,type:"number",name:"price",label:"Цена",value:t?t.price:"",placeholder:"Введите цену"},{sort:3,type:"number",name:"time",label:"Время (мин)",value:t?t.time:"",placeholder:"Введите время (мин)"},{sort:4,type:"multiselect",name:"salons",placeholder:"Выберите из списка",label:"Привязка к салонам",value:t&&t.salons?ls(t.salons):[],options:ls(this.salons)}]}},async created(){if(!this.programms.length){this.loading=!0;let t=await this.getAdminProgramms();t?.error&&(this.error=t.error),this.salons.length||(t=await this.getAdminSalons(),t?.error&&(this.error=t.error)),this.loading=!1}}};const ds=(0,m.Z)(rs,[["render",os]]);var ms=ds;const cs={className:"col-10"},us={class:"px-4 d-flex justify-content-end"},ps={className:"row px-4"},gs={key:0},hs={key:1,class:"text-danger"},vs={className:"d-flex p-3 justify-content-between rounded border border-gray"},bs={className:"d-flex align-items-center"},ws={className:"m-0"},fs={key:0,class:"mb-0 ms-3"},Cs={key:1,class:"mb-0 ms-3 lh-1"},ys={class:"d-flex align-items-center"},Ms=["onClick"],ks=["onClick"];function Ss(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",cs,[(0,o._)("div",us,[(0,o._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>i.setModalCreate&&i.setModalCreate(...t))}," Добавить мастера ")]),(0,o._)("div",ps,[n.loading?((0,o.wg)(),(0,o.iD)("h4",gs,"Загрзука...")):(0,o.kq)("",!0),t.masters.length||n.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h4",hs,(0,A.zw)(n.error?n.error:"Мастерицы отсутствуют"),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.masters,(t=>((0,o.wg)(),(0,o.iD)("div",{className:"p-3",key:t.id},[(0,o._)("div",vs,[(0,o._)("div",bs,[(0,o._)("h5",ws,(0,A.zw)(t.name),1),t.salons.length?((0,o.wg)(),(0,o.iD)("p",fs,(0,A.zw)(t.salons.map((t=>t.name)).join(", ")),1)):(0,o.kq)("",!0),t.description?((0,o.wg)(),(0,o.iD)("small",Cs,"("+(0,A.zw)(t.description)+")",1)):(0,o.kq)("",!0)]),(0,o._)("div",ys,[(0,o._)("button",{onClick:e=>i.setModalEdit(t),title:"Изменить",class:"btn btn-success"}," Изменить ",8,Ms),(0,o._)("button",{onClick:e=>i.setModalDelete(t),title:"Удалить",class:"btn btn-danger ms-1"}," Удалить ",8,ks)])])])))),128))])])}var _s={name:"Adminmasters",data(){return{loading:!1,error:!1}},computed:{...(0,N.rn)({masters:t=>t.admin.masters,salons:t=>t.admin.salons}),...(0,N.Se)(["getDataModal"])},methods:{...(0,N.nv)(["setModalSettings","getAdminMasters","createAdminMaster","updateAdminMaster","deleteAdminMaster","getAdminSalons"]),setModalEdit(t){const e={show:!0,title:"Редактировать мастера "+t.name,fields:this.getFields(t),btnSave:{title:"Сохранить"},btnClose:{title:"Закрыть"},submit:async()=>{const e=this.getDataModal,a=await this.updateAdminMaster({id:t.id,data:e});a.error?this.setModalSettings({title:a.error}):this.setModalSettings({title:"Успешно обновлено!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(e)},setModalCreate(){const t={show:!0,title:"Добавить мастера",fields:this.getFields(),btnSave:{title:"Добавить"},btnClose:{title:"Закрыть"},submit:async()=>{const t=this.getDataModal,e=await this.createAdminMaster(t);e.error?this.setModalSettings({title:e.error}):this.setModalSettings({title:"Добавлено успешно!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(t)},setModalDelete({name:t,id:e}){const a={show:!0,title:`Вы уверены что хотите удалить мастера ${t}?`,fields:[],btnSave:{title:"Да"},btnClose:{title:"Нет"},submit:async()=>{const t=await this.deleteAdminMaster(e);t.error?this.setModalSettings({title:t.error}):this.setModalSettings({title:"Успешно удалено!"}),this.setModalSettings({fields:[],btnSave:!1,btnClose:{title:"Закрыть"}})}};this.setModalSettings(a)},getFields(t){return[{sort:1,type:"text",name:"name",label:"Имя",value:t?t.name:"",placeholder:"Введите имя"},{sort:2,type:"textarea",name:"description",label:"Описание",value:t?t.description:"",placeholder:"Введите описание"},{sort:3,type:"multiselect",name:"salons",label:"Привязка к салонам",value:t&&t.salons?ls(t.salons):[],options:ls(this.salons)}]}},async created(){if(!this.masters.length){this.loading=!0;let t=await this.getAdminMasters();t?.error&&(this.error=t.error),this.salons.length||(t=await this.getAdminSalons(),t?.error&&(this.error=t.error)),this.loading=!1}}};const xs=(0,m.Z)(_s,[["render",Ss]]);var As=xs;const Ds={className:"col-10"},Is={class:"px-4 d-flex justify-content-end"},Zs={className:"row px-4"},Vs={key:0},$s={key:1,class:"text-danger"},Rs={className:"d-flex p-3 justify-content-between rounded border border-gray"},js={className:"d-flex align-items-center"},Ps={className:"m-0"},qs={key:0,class:"mb-0 ms-3"},zs={class:"d-flex align-items-center"},Hs=["onClick"],Ns=["onClick"];function Fs(t,e,a,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ds,[(0,o._)("div",Is,[(0,o._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>i.setModalCreate&&i.setModalCreate(...t))}," Добавить комнату ")]),(0,o._)("div",Zs,[n.loading?((0,o.wg)(),(0,o.iD)("h4",Vs,"Загрзука...")):(0,o.kq)("",!0),t.rooms.length||n.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("h4",$s,(0,A.zw)(n.error?n.error:"Комнаты отсутствуют"),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.rooms,(t=>((0,o.wg)(),(0,o.iD)("div",{className:"p-3",key:t.id},[(0,o._)("div",Rs,[(0,o._)("div",js,[(0,o._)("h5",Ps,(0,A.zw)(t.name),1),t.salon?((0,o.wg)(),(0,o.iD)("p",qs,(0,A.zw)(t.salon.name),1)):(0,o.kq)("",!0)]),(0,o._)("div",zs,[(0,o._)("button",{onClick:e=>i.setModalEdit(t),title:"Изменить",class:"btn btn-success"}," Изменить ",8,Hs),(0,o._)("button",{onClick:e=>i.setModalDelete(t),title:"Удалить",class:"btn btn-danger ms-1"}," Удалить ",8,Ns)])])])))),128))])])}var Os={name:"Adminrooms",data(){return{loading:!1,error:!1}},computed:{...(0,N.rn)({rooms:t=>t.admin.rooms,salons:t=>t.admin.salons}),...(0,N.Se)(["getDataModal"])},methods:{...(0,N.nv)(["setModalSettings","getAdminRooms","createAdminRoom","updateAdminRoom","deleteAdminRoom","getAdminSalons"]),setModalEdit(t){const e={show:!0,title:"Редактировать комнату "+t.name,fields:this.getFields(t),btnSave:{title:"Сохранить"},btnClose:{title:"Закрыть"},submit:async()=>{const e=this.getDataModal,a=await this.updateAdminRoom({id:t.id,data:e});a.error?this.setModalSettings({title:a.error}):this.setModalSettings({title:"Успешно обновлено!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(e)},setModalCreate(){const t={show:!0,title:"Добавить комнату",fields:this.getFields(),btnSave:{title:"Добавить"},btnClose:{title:"Закрыть"},submit:async()=>{const t=this.getDataModal,e=await this.createAdminRoom(t);e.error?this.setModalSettings({title:e.error}):this.setModalSettings({title:"Добавлено успешно!"}),this.setModalSettings({fields:[],btnSave:!1})}};this.setModalSettings(t)},setModalDelete({name:t,id:e}){const a={show:!0,title:`Вы уверены что хотите удалить комнату ${t}?`,fields:[],btnSave:{title:"Да"},btnClose:{title:"Нет"},submit:async()=>{const t=await this.deleteAdminRoom(e);t.error?this.setModalSettings({title:t.error}):this.setModalSettings({title:"Успешно удалено!"}),this.setModalSettings({fields:[],btnSave:!1,btnClose:{title:"Закрыть"}})}};this.setModalSettings(a)},getFields(t){return[{sort:1,type:"text",name:"name",label:"Название",value:t?t.name:"",placeholder:"Введите название"},{sort:2,type:"select",name:"salon",placeholder:"Выберите из списка",label:"Салон",value:t&&t.salon?{name:t.salon.name,value:t.salon.id}:{},options:ls(this.salons)}]}},async created(){if(!this.rooms.length){this.loading=!0;let t=await this.getAdminRooms();t?.error&&(this.error=t.error),this.salons.length||(t=await this.getAdminSalons(),t?.error&&(this.error=t.error)),this.loading=!1}}};const Es=(0,m.Z)(Os,[["render",Fs]]);var Ws=Es;const Bs={class:"container"},Us={className:"row pt-2"};var Ls={__name:"AdminView",setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("div",Bs,[(0,o._)("div",Us,[(0,o.Wm)(Da),"admin-salons"==t.$route.name?((0,o.wg)(),(0,o.j4)(Ba,{key:0})):(0,o.kq)("",!0),"admin-programms"==t.$route.name?((0,o.wg)(),(0,o.j4)(ms,{key:1})):(0,o.kq)("",!0),"admin-masters"==t.$route.name?((0,o.wg)(),(0,o.j4)(As,{key:2})):(0,o.kq)("",!0),"admin-rooms"==t.$route.name?((0,o.wg)(),(0,o.j4)(Ws,{key:3})):(0,o.kq)("",!0)])]))}};const Ys=Ls;var Ks=Ys;const Ts=[{path:"/",name:"home",component:Ma},{path:"/admin",name:"admin",component:Ks,redirect:{name:"admin-salons"},children:[{path:"salons",name:"admin-salons",component:Ks},{path:"rooms",name:"admin-rooms",component:Ks},{path:"masters",name:"admin-masters",component:Ks},{path:"programms",name:"admin-programms",component:Ks}]}],Xs=(0,$t.p7)({history:(0,$t.PO)("/"),routes:Ts});var Gs=Xs;const Js="/api/admin",Qs="/api",to={show:!1,title:"Редактировать",fields:[],btnSave:{title:"Сохранить"},btnClose:{title:"Закрыть"},submit:()=>{}};var eo=a(4161),ao={mutations:{setAdminProgramms(t,e){t.programms=[...t.programms,...e]},updateAdminProgramm(t,e){const a=t.programms.findIndex((t=>t.id==e.id));-1!=a&&(t.programms[a]=e)},deleteAdminProgramm(t,e){t.programms=t.programms.filter((t=>t.id!=e))}},actions:{async getAdminProgramms({commit:t}){try{const e=await eo.Z.get(`${Js}/programms`);t("setAdminProgramms",e.data)}catch(e){return ns(e)}},async updateAdminProgramm({commit:t},{id:e,data:a}){try{const s=await eo.Z.put(`${Js}/programms/${e}`,a);return t("updateAdminProgramm",s.data),s.data}catch(s){return ns(s)}},async createAdminProgramm({commit:t},e){try{const a=await eo.Z.post(`${Js}/programms`,e);return t("setAdminProgramms",[a.data]),a.data}catch(a){return ns(a)}},async deleteAdminProgramm({commit:t},e){try{const a=await eo.Z.delete(`${Js}/programms/${e}`);return t("deleteAdminProgramm",a.data.id),a.data}catch(a){return ns(a)}}}},so={mutations:{setAdminSalons(t,e){t.salons=[...t.salons,...e]},updateAdminSalon(t,e){const a=t.salons.findIndex((t=>t.id==e.id));-1!=a&&(t.salons[a]=e)},deleteAdminSalon(t,e){t.salons=t.salons.filter((t=>t.id!=e))}},actions:{async getAdminSalons({commit:t}){try{const e=await eo.Z.get(`${Js}/salons`);t("setAdminSalons",e.data)}catch(e){return ns(e)}},async updateAdminSalon({commit:t},{id:e,data:a}){try{const s=await eo.Z.put(`${Js}/salons/${e}`,a);return t("updateAdminSalon",s.data),s.data}catch(s){return ns(s)}},async createAdminSalon({commit:t},e){try{const a=await eo.Z.post(`${Js}/salons`,e);return t("setAdminSalons",[a.data]),a.data}catch(a){return ns(a)}},async deleteAdminSalon({commit:t},e){try{const a=await eo.Z.delete(`${Js}/salons/${e}`);return t("deleteAdminSalon",a.data.id),a.data}catch(a){return ns(a)}}}},oo={mutations:{setAdminMasters(t,e){t.masters=[...t.masters,...e]},updateAdminMaster(t,e){const a=t.masters.findIndex((t=>t.id==e.id));-1!=a&&(t.masters[a]=e)},deleteAdminMaster(t,e){t.masters=t.masters.filter((t=>t.id!=e))}},actions:{async getAdminMasters({commit:t}){try{const e=await eo.Z.get(`${Js}/masters`);t("setAdminMasters",e.data)}catch(e){return ns(e)}},async updateAdminMaster({commit:t},{id:e,data:a}){try{const s=await eo.Z.put(`${Js}/masters/${e}`,a);return t("updateAdminMaster",s.data),s.data}catch(s){return ns(s)}},async createAdminMaster({commit:t},e){try{const a=await eo.Z.post(`${Js}/masters`,e);return t("setAdminMasters",[a.data]),a.data}catch(a){return ns(a)}},async deleteAdminMaster({commit:t},e){try{const a=await eo.Z.delete(`${Js}/masters/${e}`);return t("deleteAdminMaster",a.data.id),a.data}catch(a){return ns(a)}}}},no={mutations:{setAdminRooms(t,e){t.rooms=[...t.rooms,...e]},updateAdminRoom(t,e){const a=t.rooms.findIndex((t=>t.id==e.id));-1!=a&&(t.rooms[a]=e)},deleteAdminRoom(t,e){t.rooms=t.rooms.filter((t=>t.id!=e))}},actions:{async getAdminRooms({commit:t}){try{const e=await eo.Z.get(`${Js}/rooms`);t("setAdminRooms",e.data)}catch(e){return ns(e)}},async updateAdminRoom({commit:t},{id:e,data:a}){try{const s=await eo.Z.put(`${Js}/rooms/${e}`,a);return t("updateAdminRoom",s.data),s.data}catch(s){return ns(s)}},async createAdminRoom({commit:t},e){try{const a=await eo.Z.post(`${Js}/rooms`,e);return t("setAdminRooms",[a.data]),a.data}catch(a){return ns(a)}},async deleteAdminRoom({commit:t},e){try{const a=await eo.Z.delete(`${Js}/rooms/${e}`);return t("deleteAdminRoom",a.data.id),a.data}catch(a){return ns(a)}}}},io={state:{salons:[],programms:[],masters:[],rooms:[]},getters:{},mutations:{setAdminModalSettings(t,e){t.modal={...t.modal,...e}},...so.mutations,...ao.mutations,...oo.mutations,...no.mutations},actions:{setAdminModalSettings({commit:t},e){t("setAdminModalSettings",e)},...so.actions,...ao.actions,...oo.actions,...no.actions}},lo={state:{modal:{...to},salons:[],programms:[],masters:[]},getters:{getDataModal(t){return is(t.modal.fields)},getEntityBySalonId:t=>(e,a)=>{const s=t.salons.find((t=>t.id==e));return s&&s[a]?"programms"==a?s[a].map((t=>({...t,...t.time?{name:t.name+" ("+t.time+")"}:""}))):s[a]:[]}},mutations:{setModalSettings(t,e){t.modal={...t.modal,...e}},setModalFieldValue(t,e){t.modal.fields[e.index].value=e.value},setModalFields(t,e){t.modal.fields=e},setAllInfo(t,e){e.salons&&(t.salons=e.salons),e.masters&&(t.masters=e.masters),e.programms&&(t.programms=e.programms)},updateRoomForMasters(t,e){t.salons.forEach((t=>{t.masters.forEach((t=>{t.id==e.id&&(t.room_id=e.room_id)}))}))},updateProgrammInRoom(t,e){const a=t.salons.find((t=>t.id==e.salon_id));if(a){const t=a.rooms.find((t=>t.id==e.id));t&&(t.programm_id=e.programm_id)}},updateStatusRoom(t,e){const a=t.salons.find((t=>t.id==e.salon_id));if(a){const t=a.rooms.find((t=>t.id==e.id));t&&(t.status=e.status)}}},actions:{setModalSettings({commit:t},e){t("setModalSettings",e)},setModalFieldValue({commit:t},e){t("setModalFieldValue",e)},setModalFields({commit:t},e){t("setModalFields",e)},async getAllInfo({commit:t}){try{const e=await eo.Z.get(`${Qs}/all`);t("setAllInfo",e.data)}catch(e){return ns(e)}},async updateRoomForMaster({commit:t},{roomId:e,masterId:a,type:s}){try{const o=await eo.Z.patch(`${Qs}/masters/${a}/updateRoom/${e}`,{type:s});t("updateRoomForMasters",o.data)}catch(o){return ns(o)}},async updateProgrammInRoom({commit:t},{roomId:e,programm:a}){try{const s=await eo.Z.patch(`${Qs}/rooms/${e}/updateProgramm`,{programm:a});t("updateProgrammInRoom",s.data)}catch(s){return ns(s)}},async updateStatusRoom({commit:t},{roomId:e,status:a}){try{const s=await eo.Z.patch(`${Qs}/rooms/${e}/updateStatus`,{status:a});t("updateProgrammInRoom",s.data)}catch(s){return ns(s)}}}},ro=(0,N.MT)({modules:{admin:io,app:lo}});(0,s.ri)(Vt).use(ro).use(Gs).mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,n){if(!s){var i=1/0;for(m=0;m<t.length;m++){s=t[m][0],o=t[m][1],n=t[m][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,n<i&&(i=n));if(l){t.splice(m--,1);var d=o();void 0!==d&&(e=d)}}return e}n=n||0;for(var m=t.length;m>0&&t[m-1][2]>n;m--)t[m]=t[m-1];t[m]=[s,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,i=s[0],l=s[1],r=s[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var m=r(a)}for(e&&e(s);d<i.length;d++)n=i[d],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(m)},s=self["webpackChunksalons_frontend_vue"]=self["webpackChunksalons_frontend_vue"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6499)}));s=a.O(s)})();
//# sourceMappingURL=app.0ab740aa.js.map